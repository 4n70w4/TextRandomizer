# Описание

PHP-скрипт рандомизатора текстов. [Сайт автора](http://xbb.uz/randomizator/text.bb), [он-лайн демо](http://xbb.uz/randomizator/).

# Что такое рандомизатор текста?

Это - программа для промышленного создания псевдоуникального контента. Используется, например, при регистрации сайта во множестве каталогов. Чтобы в каждом каталоге сайт описывался уникальным с точки зрения поисковиков текстом. В отличие от аналогичных инструментов (синонимайзеры, доргены) позволяет максимально сохранить читабельность результирующих текстов.

# Как работает рандомизатор?

Берем некий исходный текст. Например:

```
Бытует мнение, что и копирайтинг (написание текстов) и рерайтинг (переработка готовых текстов) с успехом можно доверить текстовому рандомизатору – специальной программе.
```

Обрабатываем его специальным образом:

1. Если "текст 1" можно заменить на "текст 2" или на "текст 3", то вместо "текст 1" вставляем инструкцию `{текст 1|текст 2|текст 3}`.
2. Если "текст" можно опустить, то вместо "текст" вставляем инструкцию `{|текст}`.
3. Если можно перемешать последовательность "текст 1 текст 2 текст 3", то вместо нее вставляем инструкцию `[текст 1|текст 2|текст 3]`.
4. Если можно перемешать последовательность "текст 1, текст 2, текст 3", то вместо нее вставляем инструкцию `[+,+текст 1|текст 2|текст 3]`.
5. Если можно перемешать абзацы "абзац1 абзац2 абзац3", то можно просто писать `абзац1|абзац2|абзац3`.
6. Если нужно вставить в текст какой-то спецсимвол `{`, `}`, `|`, `[`, `]`, `+` или `\`, то его следует экранировать: `\{`, `\}`, `\|`, `\[`, `\]`, `\+` или `\\`.

Инструкции могут иметь неограниченную вложенность.

Вариант обработки на скорую руку:

```
{{Бытует|Существует|Есть|Имеется} мнение|{Некоторые|Многие} думают}, что и
[+и+
 {копирайтинг (написание текстов)
 |написание текстов (копирайтинг)
 |написание текстов
 |копирайтинг
 }
|{рерайтинг (переработку готовых текстов)
 |переработку готовых текстов (рерайтинг)
 |переработку готовых текстов
 |рерайтинг
 }
] [{|с успехом}|можно] доверить
[+–+{текстовому рандомизатору|рандомизатору {|текста|текстов}}
|{специальной|особой} {программе|проге}
].
```

Скармливаем этот код рандомизатору и получаем кучу вариантов, таких как:

```
Некоторые думают, что и написание текстов и рерайтинг (переработку готовых текстов) с успехом можно доверить особой программе – рандомизатору.
```

или

```
Есть мнение, что и переработку готовых текстов и написание текстов можно доверить текстовому рандомизатору – особой проге.
```

Для приведенного в примере кода существует 24576 различных вариантов результирующих текстов. Можно [потестить рандомизатор в онлайне](http://xbb.uz/randomizator/).

# Как прикрутить рандомизатор к своему сайту?

1. Надо скачать скрипт рандомизатора: [ZIP-архив, 11.8 KB](http://xbb.uz/files/download/textRandomizer.zip). В исходных кодах. Лицензия - GNU GPL.
2. Распаковать скрипт в какую-нибудь папку на своем сервере. Зайдите в нее по HTTP, чтобы убедиться, что скрипт работает.
3. Смотрите исходник `index.php`, как пример использования рандомизатора.

API очень несложное:

```php
// Подключаем библиотеку рандомизатора:
require_once 'путь_к_вашим_скриптам/Natty/TextRandomizer.php';
// Получаем текст для обработки:
$text = '{Мой|Твой|Ваш|Наш} текст';
// Создаем объект этого текста:
$tRand = new Natty_TextRandomizer($text);
// Число результирующих вариатов:
echo '<p>Число всех вариантов: ' . $tRand->numVariant() . '</p>';
// Собственно рандомные тексты:
for ($i=0; $i<10; ++$i) {
  echo htmlspecialchars($tRand->getText()) . '<hr />';
}
```
